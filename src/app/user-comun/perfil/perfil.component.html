<section class="container-fluid">
    <div class="row">
        <div class="col-md-4">
            <div class="shadow p-3 border rounded-lg">
                <img class="w-full h-full rounded-full ima" src="../../../assets/perfil.webp" alt="Card image cap">
                <div class="mt-4">
                    <h4 class="my-2 text-lg font-mono  text-[#03045E]">
                        {{usuario?.name}}
                    </h4>
                    <p class="my-2 font-mono flex justify-between">
                        {{usuario?.email}}
                        <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor"
                            class="bi bi-chat-left-text" viewBox="0 0 16 16">
                            <path
                                d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
                            <path
                                d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6m0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5" />
                        </svg>
                    </p>
                    <button class="btn btn-info font-mono w-full my-2">editar perfil</button>
                    <button class="btn btn-primary font-mono  w-full my-2" (click)="goTransacciones()">Historial de
                        Transacciones</button>
                </div>
            </div>
        </div>
        <div class="col-md-8 font-mono text-sm">
            <div class="shadow p-3 border rounded-lg">
                <div class="productos">
                    <h3 class="my-3 mx-1 text-base">
                        Otras opciones
                    </h3>
                    <div class="flex justify-between  p-3 border rounded-lg">
                        <button class="px-4 py-2 border bt1 rounded-lg" (click)="goMisCompras()">
                            Mis Compras
                        </button>
                        <button class="px-4 py-2 border bt2 rounded-lg" (click)="goTransacciones()">
                            Historial de Transacciones
                        </button>
                    </div>
                </div>
                @if (transaccion) {
                <section class="container-fluid font-mono my-2">
                    <div class="row">
                        <div class="col-md-12">
                            <h3 class=" text-[#00B4D8] my-2">Todas las Transacciones</h3>
                            <table class="table table-bordered shadow">
                                <thead class="table-info">
                                    <tr>
                                        <th class="text-center">#</th>
                                        <th class="text-center">Fecha</th>
                                        <th class="text-center">Total Gastado Q</th>
                                        <th class="text-center">Metodo de pago</th>
                                        <th class="text-center">Estado</th>
                                        <th class="text-center">Descripcion</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (item of carts; track $index) {
                                    <tr class="text-center">
                                        <th class="text-center">{{$index+1}}</th>
                                        <td class="text-center">{{item.created_at.split('T')[0]}}</td>
                                        <td class="text-center">{{item.total}}</td>
                                        <td class="text-center">{{traducirPayMethod(item.payment_method)}}</td>
                                        <td class="text-center">{{traducirEstado(item.status)}}</td>
                                        <td class="text-center">
                                            @if (item.description_error) {
                                            <a class="btn btn-link" (click)="verError(item.description_error)">ver</a>
                                            }

                                        </td>
                                    </tr>
                                    }

                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                }
            </div>
        </div>
    </div>
</section>